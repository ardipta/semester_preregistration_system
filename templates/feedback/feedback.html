{% load static %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="{% static 'css/feedback.css'%}">
    <title>Feedback | Pre-registration System</title>

</head>
<body style="background-color: #0E2231">
    <div class="container-fluid">
        {% for message in messages %}
          <div class="alert {{ message.tags }} alert-dismissible" role="alert" style="text-align: center">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            {{ message }}
          </div>
        {% endfor %}
        <div class="row">
            <div class="col-lg-12">
                <h2 style="text-align: center; color: white"><strong>Student Feedback</strong></h2>
            </div>
            <div class="tabContainer">
                <div class="buttonContainer">
                    <button onclick="showPanel(0, '#333366')">Submit Feedback</button>
                    <button onclick="showPanel(1, '#333366')">Feedback Status</button>
                </div>
                <div class="tabPanel">
                    <form action="" method="POST" class="col-lg-12"> {% csrf_token %}
                         <div class="form-row">
                            <div class="form-group col-md-4">
                                <div class=" form-group">
                                    <input type="text" name="name" class="form-control" value="" placeholder="Enter Your Name">
                                </div>
                            </div>
                             <div class="form-group col-md-4">
                                 <div class=" form-group">
                                    <input type="text" name="student_id" class="form-control" value="" placeholder="Enter Student ID">
                                 </div>
                             </div>
                             <div class="form-group col-md-4">
                                 <div class=" form-group">
                                    <input type="text" name="adviser_init" class="form-control" placeholder="Enter Your Adviser Initial">
                                 </div>
                             </div>
                             <div class="form-group col-md-6">
                                <div class="form-group">
                                    <input type="text" name="email" class="form-control" placeholder="Enter Your Email">
                                </div>
                             </div>
                             <div class="form-group col-md-6">
                                <div class="form-group">
                                    <input type="text" name="phone" class="form-control" placeholder="Enter Phone Number">
                                </div>
                             </div>
                             <div class="form-group col-md-12">
                                <div class="form-group">
                                    <textarea class="form-control" name="issues" style="height: 320px" placeholder="Enter Your Issues"></textarea>
                                </div>
                             </div>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="form-control btn btn-primary text-uppercase" style="color: black"><strong>Submit</strong></button>
                        </div>
                    </form>
                </div>
                <div class="tabPanel">
                    <table class="table table-bordered table-striped table-hover" style="font-size: 15px">
                        <thead class="thead-dark">
                            <th scope="col" style="width: 13%">Name</th>
                            <th scope="col" style="width: 11%">Student ID</th>
                            <th scope="col" style="width: 16%">Email</th>
                            <th scope="col" style="width: 10%">Phone</th>
                            <th scope="col" style="width: 11%">Adviser Initial</th>
                            <th scope="col" style="width: 28%">Issue</th>
                            <th scope="col" style="width: 10%">Issue Status</th>
                        </thead>
                        {% if status %}
                            {% for st in status %}
                        <tbody class="bg-white">
                            <td>{{ st.name }}</td>
                            <td>{{ st.student_id }}</td>
                            <td>{{ st.email }}</td>
                            <td>{{ st.phone }}</td>
                            <td>{{ st.adviser_init }}</td>
                            <td style="text-align: justify">{{ st.issues }}</td>
                            {% if st.is_solved %}
                                <td style="color: #00C853">Solved</td>
                            {% else %}
                                <td style="color: red">Pending</td>
                            {% endif %}
                        </tbody>
                            {% endfor %}
                        {% else %}
                            <h3 style="text-align: center">No Data Available</h3>
                        {% endif %}
                    </table>
                </div>
            </div>
        </div>
    </div>
<script src="{% static 'js/feedback.js' %}"></script>
</body>
</html>